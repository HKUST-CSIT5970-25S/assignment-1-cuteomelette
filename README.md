[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-22041afd0340ce965d47ae6ef1cefeee28c7c493a6346c4f15d667ab976d596c.svg)](https://classroom.github.com/a/IAASVEAZ)
# CSIT5970 Assignment-1: EC2 Measurement (2 questions, 4 marks)

### Deadline: 11:59PM, Feb, 28, Friday

---

### Name: ZHANG Xiaolong
### Student Id: 21075058
### Email: xzhangic@connect.ust.hk

---

## Question 1: Measure the EC2 CPU and Memory performance

1. (1 mark) Report the name of measurement tool used in your measurements (you are free to choose *any* open source measurement software as long as it can measure CPU and memory performance). Please describe your configuration of the measurement tool, and explain why you set such a value for each parameter. Explain what the values obtained from measurement results represent (e.g., the value of your measurement result can be the execution time for a scientific computing task, a score given by the measurement tools or something else).

    > Your answer goes here.

    (1) Name of measurement tool: Phoronix Test Suite

    (2) Configuration of the measurement tool:

    For CPU performance test, I used compress-7zip to conduct Benchmark tests to measure the processing power and efficiency of the CPU in data compression tasks.
    
    For memory performance test, I used ramspeed (Type: Copy - Benchmark: Integer) to evaluate memory read speed and data transfer efficiency. Configuring type to copy can effectively test the memory read speed, and setting benchmark to integer is sufficient to test the memory performance under common conditions.
    
    (3) Values obtained from measurement results:
    
    For CPU performance test, I used the Compression Rating average value generated by the test tool as the result value. This parameter is a benchmark score for data compression operations, which can evaluate the performance of the CPU in compression. The unit of data is MIPS, which is the abbreviation of Million Instructions Per Second, which indicates the performance indicator of how many millions of instructions the CPU can execute per second.
    
    For memory performance test, The test result is the data transfer speed when the memory performs a copy operation on the integer data, in MB/s.

2. (1 mark) Run your measurement tool on general purpose `t2.micro`, `t2.medium`, and `c5d.large` Linux instances, respectively, and find the performance differences among these instances. Launch all the instances in the **US East (N. Virginia)** region. Does the performance of EC2 instances increase commensurate with the increase of the number of vCPUs and memory resource?

    In order to answer this question, you need to complete the following table by filling out blanks with the measurement results corresponding to each instance type.

    | Size        | CPU performance | Memory performance |
    | ----------- | --------------- | ------------------ |
    | `t2.micro` |    3533 MIPS    |    10709.40 MB/s   |
    | `t2.medium`  |    9921 MIPS    |    20017.56 MB/s   |
    | `c5d.large` |    7394 MIPS    |    13411.28 MB/s   |

    The performance of EC2 instances is not always proportional to the increase in vCPU and memory.
    
    According to AWS information, t2.micro has 1 vCPU and 1 GiB Memory, t2.medium and c5d.large both have 2 vCPU and 4 GiB Memory. However, during the experiment, the latter two have twice the number of CPUs as the former, and the CPU performance is much higher than twice the former. The latter two have four times the memory resources of the former, but the memory performance is less than twice the former. Therefore, the experimental results prove that the performance of EC2 instances will not increase commensurate with the increase of the number of vCPUs and memory resource.
    
    In summary, ideally, more vCPU and memory resources can improve performance, but the actual effect may be affected by many factors such as workload type, application parallelism, and whether the additional computing and memory resources are fully utilized.

    > Region: US East (N. Virginia). Use `Ubuntu Server 22.04 LTS (HVM)` as AMI.

## Question 2: Measure the EC2 Network performance

1. (1 mark) The metrics of network performance include **TCP bandwidth** and **round-trip time (RTT)**. Within the same region, what network performance is experienced between instances of the same type and different types? In order to answer this question, you need to complete the following table.

    | Type                      | TCP b/w (Mbps) | RTT (ms) |
    | ------------------------- | -------------- | -------- |
    | `t3.medium` - `t3.medium` | 2.61 Gbits/sec | 0.285 ms |
    | `m5.large` - `m5.large`   | 4.64 Gbits/sec | 0.232 ms |
    | `c5n.large` - `c5n.large` | 4.96 Gbits/sec | 0.136 ms |
    | `t3.medium` - `c5n.large` | 2.21 Gbits/sec | 0.653 ms |
    | `m5.large` - `c5n.large`  | 2.80 Gbits/sec | 0.488 ms |
    | `m5.large` - `t3.medium`  | 1.81 Gbits/sec | 1.08 ms  |

    Within the same region, network performance between instances of the same type is better than network performance between instances of different types. Whether it is bandwidth or RTT comparison, network performance between instances of the same type has obvious advantages.

    > Region: US East (N. Virginia). Use `Ubuntu Server 22.04 LTS (HVM)` as AMI. Note: Use private IP address when using iPerf within the same region. You'll need iPerf for measuring TCP bandwidth and Ping for measuring Round-Trip time.

2. (1 mark) What about the network performance for instances deployed in different regions? In order to answer this question, you need to complete the following table.

    | Connection                | TCP b/w (Mbps) | RTT (ms) |
    | ------------------------- | -------------- | -------- |
    | N. Virginia - Oregon      | 33.2 Mbits/sec | 60.8 ms  |
    | N. Virginia - N. Virginia | 4.96 Gbits/sec | 0.201 ms |
    | Oregon - Oregon           | 4.93 Gbits/sec | 0.170 ms |

    The network performance for instances deployed in different regions is significantly weaker than the network performance for instances deployed in the same region. There is an order of magnitude difference in both bandwidth and RTT.
 
    > Region: US East (N. Virginia), US West (Oregon). Use `Ubuntu Server 22.04 LTS (HVM)` as AMI. All instances are `c5.large`. Note: Use public IP address when using iPerf within the same region.
